# Production environment values
# Namespace: prod

# Environment-specific settings
environment: prod
namespace: prod

vote:
  image: ghcr.io/abdullah-hamada7/vote/vote:latest
  replicas: 3  # Higher replicas for HA
  service:
    port: 80
    type: ClusterIP
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 200m
      memory: 256Mi

result:
  image: ghcr.io/abdullah-hamada7/vote/result:latest
  replicas: 2  # Higher replicas for HA
  service:
    port: 80
    type: ClusterIP
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 200m
      memory: 256Mi

worker:
  image: ghcr.io/abdullah-hamada7/vote/worker:latest
  replicas: 2  # Multiple workers for better processing
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 200m
      memory: 256Mi

# Redis dependency configuration (Bitnami chart)
redis:
  enabled: true
  fullnameOverride: "redis"
  architecture: standalone
  auth:
    enabled: false
  master:
    resources:
      requests:
        cpu: 100m
        memory: 128Mi
      limits:
        cpu: 200m
        memory: 256Mi

# PostgreSQL dependency configuration (Bitnami chart)
postgresql:
  enabled: true
  fullnameOverride: "postgresql"
  auth:
    username: postgres
    password: postgres
    database: postgres
  primary:
    resources:
      requests:
        cpu: 250m
        memory: 256Mi
      limits:
        cpu: 500m
        memory: 512Mi

ingress:
  enabled: true
  className: traefik
  hosts:
    - host: vote.prod.local
      paths:
        - path: /
          pathType: Prefix
          service: vote
    - host: result.prod.local
      paths:
        - path: /
          pathType: Prefix
          service: result
